cmake_minimum_required(VERSION 2.8.2)

project(curl-download NONE)
include(ExternalProject)

ExternalProject_Add(curl
    GIT_REPOSITORY https://github.com/curl/curl.git
    GIT_TAG master
    SOURCE_DIR ${CMAKE_BINARY_DIR}/curl-src
    BINARY_DIR ${CMAKE_BINARY_DIR}/curl-build
    CONFIGURE_COMMAND 
    CMAKE_ARGS -DCMAKE_CXX_FLAGS="${CMAKE_CXX_FLAGS} -DCURL_STATICLIB"
    BUILD_COMMAND 
    INSTALL_COMMAND 
    TEST_COMMAND 
)